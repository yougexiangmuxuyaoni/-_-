<template>
  <div id="positioning">
    <div class="top">
      <div class="row1">
        <div class="left">
          <img class="img" src="@/assets/school1.jpg" alt />
          <div class="neirong">
            <div class="dazi">北京朝阳区国际幼儿园</div>
            <p>所在区域：海淀区 中关村</p>
            <p>办学性质：公办学校</p>
            <p>类型：区直幼儿园</p>
            <p>地址：北京市海淀区颐和园路12号</p>
          </div>
        </div>
        <div class="right">
          <div>
            <div>
              <img src="@/assets/img/yujing.png" alt />
            </div>
            <div class="shu">
              <div class="shu1">
                <span>36</span>条
              </div>
            </div>
            <div>学校预警数量汇总</div>
          </div>

          <div>
            <div>
              <img src="@/assets/img/baojing.png" alt />
            </div>

            <div class="shu">
              <div class="shu1 red">
                <span>15</span>条
              </div>
            </div>
            <div>学校报警数量汇总</div>
          </div>
        </div>
      </div>
      <div class="row2">
        <div class="left">
          <div class="title">人员信息</div>
          <div class="box flex column justify_between">
            <div class="flex column">
              <div class="tip">厨房人员</div>
              <div class="main">
                <div>
                  <p>理想/厨师</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/厨师</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/厨师</p>
                  <p>健康证：563434387483</p>
                </div>
              </div>
              <div class="bottom more">
                <span>
                  展开更多
                  <i class="el-icon-arrow-down"></i>
                </span>
              </div>
            </div>
            <div class="flex column">
              <div class="tip">食品安全员</div>
              <div class="main">
                <div>
                  <p>理想/食品安全员</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/食品安全员</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/食品安全员</p>
                  <p>健康证：563434387483</p>
                </div>
              </div>
              <div class="bottom more">
                <span>
                  展开更多
                  <i class="el-icon-arrow-down"></i>
                </span>
              </div>
            </div>
            <div class="flex column">
              <div class="tip">配餐人员</div>
              <div class="main">
                <div>
                  <p>理想/厨师</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/食品安全员</p>
                  <p>健康证：563434387483</p>
                </div>

                <div>
                  <p>理想/厨师</p>
                  <p>健康证：563434387483</p>
                </div>
              </div>
              <div class="bottom more">
                <span>
                  展开更多
                  <i class="el-icon-arrow-down"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="right">
          <div class="title">食材动态汇总信息</div>
          <div class="border main">
            <div class="r1">
              <div>编号</div>
              <div>食材名称</div>
              <div>采购日期</div>
              <div>快检结果</div>
            </div>
            <div class="r1_box">
              <div>
                <div>A0001</div>
                <div>五花肉</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0002</div>
                <div>番茄</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div class="red">
                <div>A0003</div>
                <div>土豆</div>
                <div>2019-09-22</div>
                <div>不合格</div>
              </div>
              <div>
                <div>A0004</div>
                <div>上海青</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0005</div>
                <div>西兰花</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0006</div>
                <div>青虾</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0007</div>
                <div>鲤鱼</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0008</div>
                <div>大白菜</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div class="red">
                <div>A0009</div>
                <div>黄瓜</div>
                <div>2019-09-22</div>
                <div>不合格</div>
              </div>
              <div>
                <div>A0010</div>
                <div>茄子</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0007</div>
                <div>鲤鱼</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0008</div>
                <div>大白菜</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div class="red">
                <div>A0009</div>
                <div>黄瓜</div>
                <div>2019-09-22</div>
                <div>不合格</div>
              </div>
              <div>
                <div>A0010</div>
                <div>茄子</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0007</div>
                <div>鲤鱼</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0008</div>
                <div>大白菜</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0009</div>
                <div>黄瓜</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
              <div>
                <div>A0010</div>
                <div>茄子</div>
                <div>2019-09-22</div>
                <div>合格</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row3">
        <div class="title">供应商信息</div>
        <div class="box">
          <div class="flex justify_between">
            <div class="item">
              <p class="r1">某某某粮油食品有限公司</p>
              <p class>食品经营许可证：7343948394544</p>
              <div class="bot">
                <p class="ellipsis">供应：第二外国语小学，朝阳朝阳朝阳朝阳</p>
                <p class="all">查看全部学校</p>
              </div>
            </div>

            <div class="item">
              <p class="r1">某某某粮油食品有限公司</p>
              <p class>食品经营许可证：7343948394544</p>
              <div class="bot">
                <p class="ellipsis">供应：第二外国语小学，朝阳朝阳朝阳朝阳</p>
                <p class="all">查看全部学校</p>
              </div>
            </div>

            <div class="item">
              <p class="r1">某某某粮油食品有限公司</p>
              <p class>食品经营许可证：7343948394544</p>
              <div class="bot">
                <p class="ellipsis">供应：第二外国语小学，朝阳朝阳朝阳朝阳</p>
                <p class="all">查看全部学校</p>
              </div>
            </div>
          </div>
          <div class="flex more xu_more">
            <span>
              展开更多
              <i class="el-icon-arrow-down"></i>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div id="yujing_baojing">
      <div class="flex justify_center">
        <div class="flex justify_between hui_zong">
          <div
            class="hui_zong_box flex align_center huizong_box_active color_fff font_20 justify_center"
          >
            <i class="iconfont iconjingbao font_36"></i>
            <span>学校预警信息汇总</span>
          </div>
          <div class="hui_zong_box flex align_center color_fff font_20 justify_center yujing_bg">
            <i class="iconhuaban iconfont font_36"></i>
            <span>学校报警信息汇总</span>
          </div>
          <div
            @click="VideShow"
            class="hui_zong_box flex align_center font_20 justify_center shipin_bg"
          >
            <i class="iconhuaban iconfont font_36"></i>
            <span>学校视频信息汇总</span>
          </div>
        </div>
        <div class="yue">
          <div>
            月
            <i class="el-icon-arrow-down"></i>
          </div>
        </div>
      </div>
      <div id="yujing_wrap">
        <div class="yujin_type">
          <div :class="{yujin_type_active:yuJing_active==='证照'}" @click="getYuJing('证照')">
            证照预警
            <span>46</span>
          </div>
          <div :class="{yujin_type_active:yuJing_active==='人员'}" @click="getYuJing('人员')">
            人员预警
            <span>16</span>
          </div>
          <div :class="{yujin_type_active:yuJing_active==='食材'}" @click="getYuJing('食材')">
            食材预警
            <span>116</span>
          </div>
        </div>
        <div class="gs_lis">
          <div class="list_box" v-for="(val,index) of activeArr" :key="index">
            <div class="list">
              <div class="logo">
                <img
                  class="img"
                  :src="_img"
                  alt
                />
                <div class="gongsi">
                  <p>{{title}}</p>
                  <p>预警类别：食材预警</p>
                  <p>预警内容：采购票证信息错误</p>
                  <p>预警时间：2019-09-08 13：25</p>
                </div>
              </div>
              <div class="yujing_guanlian">
                <div>
                  <p>预警关联2项：</p>
                </div>
                <div>
                  <p>无供应商信息预警</p>
                  <p>采购无票证信息预警</p>
                </div>
              </div>
              <div class="xuexiao_guanlian">
                <div>
                  <p>关联学校5个：</p>
                </div>
                <div>
                  <p>第二外国语小学，朝阳幼儿园，超华幼儿园，光明小学，芳草地小学传媒附属幼儿园</p>
                </div>
              </div>
              <div class="xiangqing" @click="isZhezhao = true">查看详情</div>
            </div>
          </div>
        </div>
      </div>
      <div class="yewei">
        <div class="tip">显示6项结果，当前1/2页</div>
        <div class="next">下一页</div>
      </div>
    </div>
    <div class="zhezhao" v-show="isZhezhao" @click.self="isZhezhao = false">
      <div>
        <div class="guanbi" @click="isZhezhao = false">
          <i class="el-icon-close"></i>
        </div>
        <Detail :isShow="false"></Detail>
      </div>
    </div>

    <div class="video_wrap" v-show="isVideo" @click.self="hideVideo">
      <div class="video_box">
        <div class="video">
          <!-- <video controls="controls" width="100%" height="100%" :src="videoSrc"></video> -->
          <video controls="controls" width="100%" height="100%" src="/static/shi.mp4"></video>

        </div>
        <div class="video_list">
          <ul>
            <li
              @click="changeVideo('//f.video.weibocdn.com/003zzxrslx07wzQN2yPu01041200ba4R0E010.mp4?label=mp4_ld&template=640x360.24.0&trans_finger=78679548d3dda0964ec12b81fbdd99c2&Expires=1568969283&ssig=alvhOzoJfy&KID=unistore,video')"
            >
              <img src="http://pmtb146d9.pic42.websiteonline.cn/upload/11y.jpg" alt />
              <div class="title">后厨视频1</div>
            </li>
            <li @click="changeVideo('//locallimit.us.sinaimg.cn/001D4rkYlx07xapBDedi010412019vbd0E010.mp4?label=mp4_ld&template=640x360.24.0&trans_finger=78679548d3dda0964ec12b81fbdd99c2&Expires=1568976386&ssig=gBamF9dvDe&KID=unistore,video')">
              <img src="http://pmtb146d9.pic42.websiteonline.cn/upload/11y.jpg" alt />
              <div class="title">后厨视频2</div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import Detail from "@/components/ComAlertDetails";
import { log } from "util";
export default {
  name: "positioning",
  data() {
    return {
      activeArr: [],
      zhengzhaoArr: [{}, {}, {}, {}, {}, {}, {}, {}],
      renyuanArr: [{}, {}, {}, {}, {}],
      shicainArr: [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}],
      _img:'/static/shicai.jpg',
      title:'营业执照',
      isZhezhao: false,
      yuJing_active: "证照",
      isVideo: false,
      videoSrc:
        "//f.video.weibocdn.com/003zzxrslx07wzQN2yPu01041200ba4R0E010.mp4?label=mp4_ld&template=640x360.24.0&trans_finger=78679548d3dda0964ec12b81fbdd99c2&Expires=1568969283&ssig=alvhOzoJfy&KID=unistore,video"
    };
  },
  components: {
    Detail
  },
  methods: {
    hideVideo() {
      this.isVideo = false;
    },
    getYuJing(type) {
      console.log(type);
      this.yuJing_active = type;
      if (type === "证照") {
        this.activeArr = this.zhengzhaoArr;
        this._img = '/static/zhengzhao.jpg';
        this.title = '营业执照';
      } else if (type === "人员") {
        this.activeArr = this.renyuanArr;
        this._img = '/static/jiankangzhewng.jpg';
        this.title = '健康证';

      } else if (type === "食材") {
        this.activeArr = this.shicainArr;
        this._img = '/static/shicai.jpg';
        this.title = '苦瓜';

      }
    },
    changeVideo(e) {
      this.videoSrc = e;
    },
    back() {
      this.$router.go(-1);
    },
    to(uri) {
      this.$router.push(uri);
    },
    VideShow() {
      this.isVideo = true;
    }
  },
  mounted() {
    this.activeArr = this.zhengzhaoArr;
  }
};
</script>
<style lang="scss" scope>
@import "@/assets/css/public.scss";

#positioning {
  display: flex;
  font-size: 0.14rem;
  flex-direction: column;
  align-items: center;
  color: #bad3ff;
  padding-top: 0.5rem;
  // .more,
  .details,
  .all {
    color: #31c9f2;
  }
  .more {
    display: flex;
    justify-content: center;
  }
  .pointer {
    cursor: pointer;
  }
  .title {
    font-size: 0.22rem;
    line-height: 3em;
  }
  .border {
    border: 0.01rem solid #225ac3 !important;
    border-radius: 0.04rem;
    background: #0e20575d;
  }
  @mixin border($width, $height) {
    width: $width;
    height: $height;
    border: 0.01rem solid #647082;
    border-radius: 0.06rem;
    box-sizing: border-box;
  }
  .top {
    display: flex;
    flex-direction: column;
    width: 12rem;
    .row1 {
      display: flex;
      justify-content: space-between;
      .left {
        width: 7.12rem;
        display: flex;
        @extend .border;
        padding: 0.2rem;
        .img {
          width: 3.6rem;
          height: 2rem;
          border-radius: 0.04rem;
        }
        .neirong {
          padding-left: 0.2rem;
          height: 2rem;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          .dazi {
            font-size: 0.22rem;
          }
          p {
            line-height: 2em;
            margin: 0;
          }
        }
      }
      .right {
        margin-left: 0.6rem;
        display: flex;
        @include border(4.4rem, 2rem);
        padding: 0.2rem;
        height: auto;
        @extend .border;
        & > div {
          width: 50%;
          height: 2rem;
          display: flex;
          text-align: center;
          flex-direction: column;
          justify-content: center;
        }
        img {
          width: 0.6rem;
        }
        .shu {
          text-align: center;
          color: #2f7bff;
          .shu1 {
            line-height: 4em;
            font-size: 0.16rem;
            span {
              padding-right: 0.04rem;
              font-size: 0.36rem;
            }
            &.red {
              color: #ff7070;
            }
          }
        }
      }
    }
    .row2 {
      margin-top: 0.3rem;
      display: flex;
      justify-content: space-between;
      height: 6.4rem;
      .tip {
        font-size: 0.16rem;
      }
      .title {
        font-size: 0.22rem;
        line-height: 3em;
      }
      .left {
        width: 7.12rem;
        .box {
          @include border(100%, 6.2rem);
          padding: 0.2rem;
          line-height: 4em;
          @extend .border;
          .main {
            display: flex;
            justify-content: space-between;
            & > div {
              p {
                margin: 0;
                line-height: 2em;
              }
            }
          }
          .bottom {
            text-align: right;
            span {
              @extend .pointer;
            }
          }
        }
      }
      .right {
        width: 4.4rem;
        .title {
          text-align: center;
        }
        .main {
          @include border(100%, 6.2rem);
          display: flex;
          flex-direction: column;
          font-size: 0.16rem;
          overflow: hidden;
          .r1 {
            height: 0.5rem;
            line-height: 0.5rem;
            background: #0f35a5;

            display: flex;
            justify-content: space-around;
            font-size: 0.16rem;
            height: 0.5rem;
            line-height: 0.5rem;
          }
          .r1_box {
            display: flex;
            flex-direction: column;
            overflow: auto;
            &::-webkit-scrollbar {
              /*滚动条整体样式*/
              width: 4px; /*高宽分别对应横竖滚动条的尺寸*/
              height: 1px;
            }
            &::-webkit-scrollbar-thumb {
              /*滚动条里面小方块*/
              border-radius: 4px;
              -webkit-box-shadow: inset 0 0 5px #616e97; //40f1fd
              background: #616e97;
            }
            &::-webkit-scrollbar-track {
              /*滚动条里面轨道*/
              // -webkit-box-shadow: inset 0 0 5px #2159c00c; //2158c0
              border-radius: 4px;
              // background: #ededed0c;
            }
            & > div {
              padding: 0 0.2rem;
              display: flex;
              justify-content: space-between;
              height: 0.5rem;
              line-height: 0.5rem;
              &:nth-of-type(even) {
                // background: #0e1446 !important;
                background: #15217cbd;
              }
              &.red {
                color: #d25d64;
              }
            }
          }
        }
      }
    }
    .row3 {
      margin-top: 0.8rem;
      .box {
        display: flex;
        padding: 0.2rem;
        flex-direction: column;
        @include border(100%, 1.8rem);
        @extend .border;
        .xu_more {
          line-height: 4em;
        }
        .item {
          .all {
            @extend .pointer;
          }
          p {
            margin: 0;
            line-height: 2em;
          }
          .bot {
            display: flex;
            .ellipsis {
              width: 1.6rem;
            }
          }
          .r1 {
            font-size: 0.18rem;
          }
        }
      }
    }
  }
  #yujing_baojing {
    width: 12rem;
    margin-top: 0.5rem;
    position: relative;
    .hui_zong {
      // width: 5.7rem;
      width: 9.7rem;

      .hui_zong_box {
        width: 2.6rem;
        height: 1rem;
        border: 0.01rem solid #727d8d;
        &.yujing_bg {
          background: #2c1138;
          border: 0.01rem solid #c0535e;
        }
        &.shipin_bg {
          background: #f5bf815b;
          border: 0.01rem solid #f5be81;
          color: #fff;
          &:hover {
            cursor: pointer;
          }
        }
      }
      .huizong_box_active {
        border: none;
        background: #2757c1;
        color: #bad3ff;
      }
    }
    .yue {
      position: absolute;
      right: 0.1rem;
      top: 1.44rem;
      align-self: flex-end;
      background-image: linear-gradient(180deg, #227ee2 0%, #0646dd 100%);
      border-radius: 0.16rem;
      width: 1rem;
      height: 0.36rem;
      line-height: 0.36rem;
      text-align: center;
      color: white;
      .el-icon-arrow-down {
      }
    }
    #yujing_wrap {
      margin-top: 0.4rem;
      & > div {
        border-bottom: 0.01rem solid #647082;
      }
      .yujin_type {
        display: flex;
        // justify-content: space-between;
        font-size: 0.16rem;
        color: white;
        line-height: 3em;
        border-bottom: none;
        & > div {
          padding: 0 0.4rem;
          background: #1e2971;
          margin-right: 0.06rem;
          @extend .pointer;
          span {
            padding: 0.02rem 0.08rem;
            background: #2b6de6;
            border-radius: 0.14rem;
            margin-left: 0.05rem;
          }
        }
        .yujin_type_active {
          // border-bottom: 0.04rem solid #fff;
          background: #2758c2;
        }
      }
      .gs_lis {
        @extend .border;
        overflow: hidden;
        .list_box {
          &:nth-of-type(even) {
            background: #1c1550bd;
          }
          .list {
            color: $color_fff;
            display: flex;
            justify-content: space-between;
            padding: 0.2rem 0.2rem;
            align-items: center;

            & > div > div {
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              font-size: 0.12rem;
            }
            p {
              margin: 0;
              line-height: 2em;
            }
            .logo {
              display: flex;

              .img {
                width: 1.1rem;
                height: 1.1rem;
                background: $bg_logo;
                margin-right: 0.2rem;
              }
              .gongsi {
                & > p:nth-of-type(1) {
                  font-size: $font_20;
                }
              }
            }
            .yujing_guanlian {
              display: flex;
              width: 1.9rem;
              & > div:first-of-type {
                width: 0.8rem;
              }
            }
            .xuexiao_guanlian {
              width: 2.7rem;
              display: flex;
              & > div:nth-of-type(1) {
                width: 0.9rem;
              }
              & > div:nth-of-type(2) {
                display: -webkit-box;
                -webkit-box-orient: vertical;
                -webkit-line-clamp: 3;
                overflow: hidden;
                width: 1.6rem;
              }
            }
            .xiangqing {
              padding: 0.1rem 0.38rem;
              border: 0.01rem solid #31c9f2;
              color: #31c9f2;
              border-radius: 0.04rem;
              @extend .pointer;
            }
          }
        }
      }
    }
    .yewei {
      display: flex;
      justify-content: space-between;
      margin: 0.2rem 0;
      .next {
        @include border(1rem, 0.35rem);
        text-align: center;
        line-height: 0.35rem;
        border-color: #31c9f2;
        @extend .pointer;
      }
    }
  }
  .zhezhao {
    position: fixed;
    top: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100vw;
    height: 100vh;
    background-color: rgba($color: #000210, $alpha: 0.7);
    .guanbi {
      position: absolute;
      top: 0;
      right: 0;
      width: 80px;
      height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.4rem;
      background: #092969;
      @extend .pointer;
    }
    & > div {
      position: relative;
      width: 10.8rem;
      height: 8rem;
      padding: 0.6rem;
      background-color: #001444;
      overflow: auto;
      &::-webkit-scrollbar {
        /*滚动条整体样式*/
        width: 4px; /*高宽分别对应横竖滚动条的尺寸*/
        height: 1px;
      }
      &::-webkit-scrollbar-thumb {
        /*滚动条里面小方块*/
        border-radius: 4px;
        -webkit-box-shadow: inset 0 0 5px #616e97; //40f1fd
        background: #616e97;
      }
      &::-webkit-scrollbar-track {
        /*滚动条里面轨道*/
        // -webkit-box-shadow: inset 0 0 5px #2159c00c; //2158c0
        border-radius: 4px;
        // background: #ededed0c;
      }
    }
    .alertDetails {
      height: 100%;
    }
  }

  .video_wrap {
    position: fixed;
    top: 0;
    background: #00021098;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    .video_box {
      width: 63%;
      height: 60%;
      display: flex;
      background: #092969;
      .video {
        width: 80%;
        height: 100%;
        video {
          width: 100%;
          height: 100%;
          background: #0f0f0f;
        }
      }
      .video_list {
        width: 20%;
        height: 100%;
        box-sizing: border-box;
        padding: 2% 0;
        ul {
          margin: 0;
          padding: 0;
          list-style: none;
          display: flex;
          flex-direction: column;
          align-items: center;
          li {
            width: 80%;
            overflow: hidden;
            display: flex;
            box-sizing: border-box;
            flex-direction: column;
            align-items: center;
            margin: 5px 0;
            @extend .hezi;
            border-color: #31c9f2;
            color: #31c9f2;
            &:hover {
              background: rgba(47, 123, 255, 0.18);
              cursor: pointer;
            }
            img {
              width: 100%;
            }
          }
        }
      }
    }
  }
}
</style>
